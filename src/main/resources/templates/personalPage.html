<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>homePage</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
<header>
    <div class="text-center bg-white border-bottom">
        <div class="container">
            <div class="row">
                <div class="col-md-2 bg-success d-flex align-items-center justify-content-center" >
                    <p class="text-white " style="padding-top:5px">Pay My Buddy</p>
                </div>
                <div class="col-md-10 bg-white d-flex align-items-center justify-content-end">

                    <ul class="navbar-nav flex-row">
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <p class="nav-link" href="#">Home</p>
                        </li>
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <p class="nav-link" href="/transactions">transfer</p>
                        </li>
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <a class="nav-link" href="#">Profile</a>
                        </li>
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <a class="nav-link" href="#">Contact</a>
                        </li>
                        <li class="nav-item me-2 me-lg-0">
                            <a class="nav-link" href="/logout">Log off</a>
                        </li>
                    </ul>

                </div>
            </div>
        </div>
    </div>
    <div class="text-center border-bottom">
        <div class="container">
            <div class="row">
                <div class="col-md-12 bg-light d-flex align-items-center justify-content-start"  >
                    <ul class="navbar-nav flex-row" >
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <p class="nav-link" href="#">  Home </p>
                        </li>
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <p class="nav-link" href="#"> / </p>
                        </li>
                        <li class="nav-item me-2 me-lg-0 mr-4">
                            <a class="nav-link" href="/transactions">Transfer</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>
<main>

    <container>
        <section class="py-1 px-5">
        <div class="row py-5">
            <div class="col">
                <h2 class="h4">My friends</h2>
                <!--<div class="panel panel-info">
                    <div class="panel-heading">My friends</div>
                    <div class="panel-body">-->
                <table class="table table-striped">
                    <!-- pas d'entête thead -->

                    <tbody>
                    <!-- ne pas corriger les warnings IntelliJ sur les expressions spel -->
                    <tr th:if="${myfriends.empty}">
                        <td colspan="3">Aucun ami enregistré</td>
                    </tr>
                    <tr th:each="user: ${myfriends}">
                        <td><span th:text="${user.firstName}"></span></td>
                        <td><span th:text="${user.lastName}"></span></td>
                        <td><span th:text="${user.email}"></span></td>
                        <td><span><a th:href="@{/deleteFriend(email = ${user.email})}">Delete</a></span></td>
                        <!--<td><span><a th:href="@{/newTransaction(id = ${user.id})}">new Transaction</a></span></td>-->
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- </div>-->
            <div class="col">

                <h2 class="h4">Transactions</h2>
                <form th:action="@{/transactions}" method="get">

                    <button class="btn btn-primary" type="submit">Go to transaction page</button>
                </form>

            </div>
        </div>


        <!-- </div>-->
        <div class="row">
            <div class="col">
                <h2 class="h4">Add a friend</h2>
                <form th:action="@{/addFriend}" method="post">
                    <label for="email">Email</label>:
                    <input type="text" id="email" name="email" placeholder="Enter email"/> <br/>
                    <div th:if="${not #lists.isEmpty(connectionError)}">
                        <ul>
                            <li th:each="error : ${connectionError}" th:text="${error.message}"></li>
                        </ul>
                    </div>

                    <button class="btn btn-primary" type="submit">Save</button>
                </form>
            </div>
            <div class="col">
                <h2 class="h4">My account</h2>
                <table class="table">
                    <!-- pas d'entête thead * th:object="${target}"-->

                    <tbody>
                    <!-- ne pas corriger les warnings IntelliJ sur les expressions spel -->
                    <!---<tr th:if="${myappaccount==null}">
                        <td colspan="3">Aucun compte enregistré</td>
                    </tr>-->
                    <tr>
                        <td><span th:text="${myappaccount.accountBalance}"></span></td>

                        <td><span><a
                                th:href="@{/updateAppAccount(id=${myappaccount.id})}">Update account balance</a></span>
                        </td>
                    </tr>

                    </tbody>
                </table>


            </div>
        </div>
        </section>
    </container>


</main>
<footer></footer>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

</body>

</html>

<!--<form th:action="@{/emptyMyAppAccount(id=${myappaccount.id})}" method="post"> <label for="username">Username</label>:légende pour objet d'une interface utilisateur
    <button class="btn btn-primary" type="submit">empty my account</button>
</form>-->